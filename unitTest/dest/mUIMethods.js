function uiMethods(){function e(e){0==e.power&&6!=e.stage?(l(),g.isClickPause=!0,$("#close-page-name")[0].innerHTML=e.name,$("#powerMask").css({visibility:"visible"}),$("#errorMask").css({visibility:"hidden"}),$("#runMask").css({visibility:"hidden"})):e.er.length>0?(l(),g.isClickPause=!0,$("#error-page-name")[0].innerHTML=e.name,$("#powerMask").css({visibility:"hidden"}),$("#errorMask").css({visibility:"visible"}),$("#runMask").css({visibility:"hidden"}),n(e.er)):2==Math.abs(e.runState)||5==e.stage||6==e.stage?(l(),g.isClickPause=!1,$("#powerMask").css({visibility:"hidden"}),$("#errorMask").css({visibility:"hidden"}),$("#runMask").css({visibility:"visible"}),r(e)):($("#powerMask").css({visibility:"hidden"}),$("#errorMask").css({visibility:"hidden"}),$("#mainName")[0].innerHTML=e.name,g.isClickPause?$("#runMask").css({visibility:"hidden"}):r(e),g.setModeImg(e.washMode),a(e))}function r(e){if($("#runTitleMode")[0].innerText=lang.modeWash[e.washMode-1],-1!=e.order&&1!=e.order?$("#runLeftTime")[0].innerText=i(Math.abs(e.order)):$("#runLeftTime")[0].innerText=i(e.timeLeft),-1==e.childLock||1==e.childLock?$("#chlidLock_img")[0].src="img/adv_childLock_unset.png":$("#chlidLock_img")[0].src="img/adv_childLock_set.png",1==Math.abs(e.runState)?$("#pauseTxt")[0].innerText="继续":$("#pauseTxt")[0].innerText="暂停",c(e),5==e.stage)$("#pauseTxt")[0].innerText="完成",$("#runPause").hide(),$("#midWSTimer2")[0].innerText=lang.washEnd;else if(6==e.stage)$("#pauseTxt")[0].innerText="完成",$("#runPause").hide(),$("#midWSTimer2")[0].innerText=lang.cooling;else if($("#runPause").show(),-1!=e.order&&1!=e.order)$("#midWSTimer2")[0].innerText=lang.runStateOrder;else switch(e.stage){case 1:$("#midWSTimer2")[0].innerText=lang.runState1;break;case 2:$("#midWSTimer2")[0].innerText=lang.runState2;break;case 3:$("#midWSTimer2")[0].innerText=lang.runState3;break;case 4:$("#midWSTimer2")[0].innerText=lang.runState4}}function a(e){-1!=e.order&&1!=e.order?($("#midWSTimer")[0].innerText=i(Math.abs(e.order)),$("#orderText").show()):($("#midWSTimer")[0].innerText=i(e.timeLeft),$("#orderText").hide()),13!=e.washMode&&14!=e.washMode||(2==Math.abs(e.dryMode)||3==Math.abs(e.dryMode)?($("#pop_washText6").css({color:"#666666"}),$("#pop_washText6")[0].innerHTML="--<br><br>烘干时长"):($("#pop_washText6").css({color:"#ffffff"}),$("#pop_washText6")[0].innerHTML="<p style='font-size: 1.5rem;display:inline'>"+i(Math.abs(e.dryMode))+"</p><br><br>烘干时长")),8==e.washMode||9==e.washMode?($("#pop_washText1").css({color:"#666666"}),$("#pop_washText1")[0].innerHTML="<p style='font-size: 1.5rem;display:inline'>0</p>分<br><br>洗涤"):$("#pop_washText1").css({color:"#FFFFFF"}),9==e.washMode?($("#pop_washText3").css({color:"#666666"}),$("#pop_washText3")[0].innerHTML="<p style='font-size: 1.5rem;display:inline'>0</p>次<br><br>漂洗"):$("#pop_washText3").css({color:"#FFFFFF"}),-1==e.preWash||1==e.preWash?$("#adv_preWash").css({"background-image":"url(img/adv_preWash_unset.png)"}):$("#adv_preWash").css({"background-image":"url(img/adv_preWash_set.png)"}),-1==e.creaseRes||1==e.creaseRes?$("#adv_creaseRes").css({"background-image":"url(img/adv_creaseRes_unset.png)"}):$("#adv_creaseRes").css({"background-image":"url(img/adv_creaseRes_set.png)"}),-1==e.highWater||1==e.highWater?$("#adv_highWater").css({"background-image":"url(img/adv_highWater_unset.png)"}):$("#adv_highWater").css({"background-image":"url(img/adv_highWater_set.png)"}),-1==e.energySave||1==e.energySave?$("#adv_energySave").css({"background-image":"url(img/adv_energySave_unset.png)"}):$("#adv_energySave").css({"background-image":"url(img/adv_energySave_set.png)"}),-1==e.childLock||1==e.childLock?$("#chlidLock_img")[0].src="img/adv_childLock_unset.png":$("#chlidLock_img")[0].src="img/adv_childLock_set.png",-1==e.quiet||1==e.quiet?$("#adv_quiet").css({"background-image":"url(img/adv_quiet_unset.png)"}):$("#adv_quiet").css({"background-image":"url(img/adv_quiet_set.png)"}),-1==e.noDrain||1==e.noDrain?$("#adv_noDrain").css({"background-image":"url(img/adv_noDrain_unset.png)"}):$("#adv_noDrain").css({"background-image":"url(img/adv_noDrain_set.png)"}),-1==e.nightWash||1==e.nightWash?$("#adv_nightWash").css({"background-image":"url(img/adv_nightWash_unset.png)"}):$("#adv_nightWash").css({"background-image":"url(img/adv_nightWash_set.png)"}),1==Math.abs(e.dryMode)?($("#adv_dry1").css({"background-image":"url(img/adv_dry1_unset.png)"}),$("#adv_dry2").css({"background-image":"url(img/adv_dry2_unset.png)"})):2==Math.abs(e.dryMode)?($("#adv_dry1").css({"background-image":"url(img/adv_dry1_set.png)"}),$("#adv_dry2").css({"background-image":"url(img/adv_dry2_unset.png)"})):3==Math.abs(e.dryMode)?($("#adv_dry1").css({"background-image":"url(img/adv_dry1_unset.png)"}),$("#adv_dry2").css({"background-image":"url(img/adv_dry2_set.png)"})):($("#adv_dry1").css({"background-image":"url(img/adv_dry1_unset.png)"}),$("#adv_dry2").css({"background-image":"url(img/adv_dry2_unset.png)"}))}function n(e){console.log("在故障处理方法里出现的故障数组："+e);var r=[];if(e){for(var a=0;a<e.length;a++)r.push(o(e[a]));if(1==r.length)$("#singleErr").show(),$("#mulErr").hide(),$("#errorCode")[0].innerText=r[0].errorCode,$("#errorReason")[0].innerText=r[0].errorReason,$("#errorSolve")[0].innerText=r[0].errorSolve;else{$("#singleErr").hide(),$("#mulErr").show();for(var n="",a=0;a<r.length;a++)n+=s(r[a]);$("#mulErrUl").html(n)}}}function s(e){return'<li>\n<div><p class = "mulErCode">'+e.errorCode+'</p>\n<p class = "mulEr">故障原因：</p>\n<p class = "mulEr">'+e.errorReason+'</p>\n<p class = "mulEr">解除条件：</p>\n<p class = "mulEr">'+e.errorSolve+'</p>\n<p class = "mulEr">若仍不能恢复，请联系售后解决</p>\n</li>\n</div>'}function o(e){var r=new Object;switch(Number(e)){case 1:r.errorCode="E1",r.errorReason=lang.erReason_E1,r.errorSolve=lang.erSolve_E1;break;case 2:r.errorCode="E2",r.errorReason=lang.erReason_E2,r.errorSolve=lang.erSolve_E2;break;case 3:r.errorCode="E3",r.errorReason=lang.erReason_E3,r.errorSolve=lang.erSolve_E3;break;case 4:r.errorCode="E4",r.errorReason=lang.erReason_E4,r.errorSolve=lang.erSolve_E4;break;case 5:r.errorCode="E5",r.errorReason=lang.erReason_E5,r.errorSolve=lang.erSolve_E5;break;case 6:r.errorCode="E6",r.errorReason=lang.erReason_E6,r.errorSolve=lang.erSolve_E6;break;case 7:r.errorCode="E7",r.errorReason=lang.erReason_E7,r.errorSolve=lang.erSolve_E7;break;case 8:r.errorCode="E8",r.errorReason=lang.erReason_E8,r.errorSolve=lang.erSolve_E8;break;case 9:r.errorCode="E9",r.errorReason=lang.erReason_E9,r.errorSolve=lang.erSolve_E9;break;case 10:r.errorCode="E10",r.errorReason=lang.erReason_E10,r.errorSolve=lang.erSolve_E10;break;case 11:r.errorCode="E11",r.errorReason=lang.erReason_E11,r.errorSolve=lang.erSolve_E11;break;case 12:r.errorCode="E12",r.errorReason=lang.erReason_E12,r.errorSolve=lang.erSolve_E12;break;case 13:r.errorCode="EH1",r.errorReason=lang.erReason_EH1,r.errorSolve=lang.erSolve_EH1;break;case 14:r.errorCode="EH2",r.errorReason=lang.erReason_EH2,r.errorSolve=lang.erSolve_EH2;break;case 15:r.errorCode="EH3",r.errorReason=lang.erReason_EH3,r.errorSolve=lang.erSolve_EH3;break;case 16:r.errorCode="EH4",r.errorReason=lang.erReason_EH4,r.errorSolve=lang.erSolve_EH4;break;case 17:r.errorCode="EH5",r.errorReason=lang.erReason_EH5,r.errorSolve=lang.erSolve_EH5;break;case 18:r.errorCode="EH6",r.errorReason=lang.erReason_EH6,r.errorSolve=lang.erSolve_EH6;break;case 19:r.errorCode="EH7",r.errorReason=lang.erReason_EH7,r.errorSolve=lang.erSolve_EH7;break;case 20:r.errorCode="EH8",r.errorReason=lang.erReason_EH8,r.errorSolve=lang.erSolve_EH8;break;case 21:r.errorCode="JF",r.errorReason=lang.erReason_JF,r.errorSolve=lang.erSolve_JF;break;case 22:r.errorCode="Lt",r.errorReason=lang.erReason_Lt,r.errorSolve=lang.erSolve_Lt;break;case 23:r.errorCode="UL",r.errorReason=lang.erReason_UL,r.errorSolve=lang.erSolve_UL;break;case 24:r.errorCode="Ub",r.errorReason=lang.erReason_Ub,r.errorSolve=lang.erSolve_Ub;break;case 25:r.errorCode="HHt",r.errorReason=lang.erReason_HHt,r.errorSolve=lang.erSolve_HHt;break;case 26:r.errorCode="HLt",r.errorReason=lang.erReason_HLt,r.errorSolve=lang.erSolve_HLt;break;case 27:r.errorCode="op",r.errorReason=lang.erReason_op,r.errorSolve=lang.erSolve_op;break;case 28:r.errorCode="EE",r.errorReason=lang.erReason_EE,r.errorSolve=lang.erSolve_EE;break;case 29:r.errorCode="Std",r.errorReason=lang.erReason_Std,r.errorSolve=lang.erSolve_Std}return r}function i(e){var r=Math.floor(e/60);r<10&&(r="0"+r);var a=e%60;return a<10&&(a="0"+a),r+":"+a}var t;this.isClickPause=!1;var g=this;document.documentElement.style.webkitUserSelect="none",document.documentElement.style.webkitTouchCallout="none",$("body").height($(window).height()),document.getElementById("txtEdit").addEventListener("click",function(e){g_functype==FuncType.Mode_Control&&navigator.PluginInterface.editDevice(g_mac)},!1);setTimeout(function(){0==IsDebug&&navigator.PluginInterface.changeBarColor("#3ab0ca")},500);var d=$("#vader").ProgressBarWars({porcentaje:10,estilo:"vader"});this.srv_renew=function(r){console.log("renewSRV"+r),t=r,e(t)};var l=function(){$("#overlayAdv").hasClass("open")?($("#overlayAdv").removeClass("open"),$("#mask").hide()):$("#pagevoice").is(":hidden")?$("#overlayMode").hasClass("open")?($("#overlayMode").removeClass("open"),$("#mask").hide()):$("#overlayOrder").hasClass("open")&&($("#overlayOrder").removeClass("open"),$("#mask").hide()):(console.log("hidden"),voiceManager.finishPage())},c=function(e){switch(e.washMode){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 10:case 11:case 12:1==Math.abs(e.dryMode)?($("#runPos1")[0].innerText=lang.runState1,$("#runPos2")[0].innerText="",$("#runPos3")[0].innerText=lang.runState2,$("#runPos4")[0].innerText="",$("#runPos5")[0].innerText=lang.runState3):($("#runPos1")[0].innerText=lang.runState1,$("#runPos2")[0].innerText=lang.runState2,$("#runPos3")[0].innerText="",$("#runPos4")[0].innerText=lang.runState3,$("#runPos5")[0].innerText=lang.runState4);break;case 8:1==Math.abs(e.dryMode)?($("#runPos1")[0].innerText="",$("#runPos2")[0].innerText=lang.runState2,$("#runPos3")[0].innerText="",$("#runPos4")[0].innerText=lang.runState3,$("#runPos5")[0].innerText=""):($("#runPos1")[0].innerText=lang.runState2,$("#runPos2")[0].innerText="",$("#runPos3")[0].innerText=lang.runState3,$("#runPos4")[0].innerText="",$("#runPos5")[0].innerText=lang.runState4);break;case 9:1==Math.abs(e.dryMode)?($("#runPos1")[0].innerText="",$("#runPos2")[0].innerText="",$("#runPos3")[0].innerText=lang.runState3,$("#runPos4")[0].innerText="",$("#runPos5")[0].innerText=""):($("#runPos1")[0].innerText="",$("#runPos2")[0].innerText=lang.runState3,$("#runPos3")[0].innerText="",$("#runPos4")[0].innerText=lang.runState4,$("#runPos5")[0].innerText="");break;case 13:case 14:$("#runPos1")[0].innerText="",$("#runPos2")[0].innerText="",$("#runPos3")[0].innerText=lang.runState4,$("#runPos4")[0].innerText="",$("#runPos5")[0].innerText=""}0==e.timeAll?d.mover(100):d.mover(100*(1-e.timeLeft/e.timeAll))};this.setModeImg=function(e){console.log("renewSRV"+e),g.modifyModeDry(e);for(var r=1;r<15;r++)for(var a=1;a<15;a++){var n="mode_"+r+"_"+a;if(0!==$("#"+n).size())if(n.split("_")[2]==e){console.log(n+"被选中~~~~~~~");var s="img/"+n+"_set.png";$("#"+n).css({"background-image":"url("+s+")"});$("#mainUpBg").css({"background-image":"url("+modeImgCache[e].src+")"}),$("#runUpBg").css({"background-image":"url("+modeImgCache[e].src+")"})}else{var s="img/"+n+"_unset.png";$("#"+n).css({"background-image":"url("+s+")"})}}},this.modifyTimeByCmd=function(e){t.timeLeft=e,0!=e&&(-1!=t.order&&1!=t.order?($("#midWSTimer")[0].innerText=i(Math.abs(t.order)),$("#runLeftTime")[0].innerText=i(Math.abs(t.order))):($("#midWSTimer")[0].innerText=i(e),$("#runLeftTime")[0].innerText=i(e)))},this.srv_btn=function(r,a){switch(r.id){case"powerMaskBack":navigator.PluginInterface.closePage(),clearInterval(_timer);break;case"powerMaskOpen":$("#ControlLoading").show(),setTimeout(function(){$("#ControlLoading").hide(),$("#powerMask").css({visibility:"hidden"}),g.isClickPause=!0,t.runState=1,t.stage=1,e(t)},1500);break;case"errorMaskBack":navigator.PluginInterface.closePage(),clearInterval(_timer);break;case"runBackBtn":0==a?5==t.stage?(navigator.PluginInterface.closePage(),clearInterval(_timer)):6==t.stage?(navigator.PluginInterface.closePage(),clearInterval(_timer)):(g.isClickPause=!0,e(t),$("#pauseTxt")[0].innerText="暂停"):(navigator.PluginInterface.closePage(),clearInterval(_timer));break;case"runPowerBtn":$("#ControlLoading").show(),setTimeout(function(){$("#ControlLoading").hide(),$("#powerMask").css({visibility:"visible"}),$("#runMask").css({visibility:"hidden"})},2500);break;case"error-page-Btn":$("#ControlLoading").show(),setTimeout(function(){$("#ControlLoading").hide(),$("#powerMask").css({visibility:"visible"}),$("#errorMask").css({visibility:"hidden"})},2500);break;case"runPause":$("#ControlLoading").show(),setTimeout(function(){$("#ControlLoading").hide(),$("#pauseTxt")[0].innerText=1==a?"继续":"暂停"},1500);break;case"mainBackBtn":navigator.PluginInterface.closePage(),clearInterval(_timer);break;case"mainPowerBtn":$("#ControlLoading").show(),setTimeout(function(){$("#ControlLoading").hide(),$("#powerMask").css({visibility:"visible"})},2500);break;case"fotStart":$("#ControlLoading").show(),setTimeout(function(){$("#ControlLoading").hide(),e(t),$("#runMask").css({visibility:"visible"}),$("#pauseTxt")[0].innerText="暂停"},1500);break;case"adv_preWash":-1==a||1==a?$("#adv_preWash").css({"background-image":"url(img/adv_preWash_unset.png)"}):$("#adv_preWash").css({"background-image":"url(img/adv_preWash_set.png)"});break;case"adv_creaseRes":-1==a||1==a?$("#adv_creaseRes").css({"background-image":"url(img/adv_creaseRes_unset.png)"}):$("#adv_creaseRes").css({"background-image":"url(img/adv_creaseRes_set.png)"});break;case"adv_highWater":-1==a||1==a?$("#adv_highWater").css({"background-image":"url(img/adv_highWater_unset.png)"}):$("#adv_highWater").css({"background-image":"url(img/adv_highWater_set.png)"});break;case"adv_energySave":-1==a||1==a?$("#adv_energySave").css({"background-image":"url(img/adv_energySave_unset.png)"}):$("#adv_energySave").css({"background-image":"url(img/adv_energySave_set.png)"});break;case"adv_childLock":$("#chlidLock_img")[0].src=-1==a||1==a?"img/adv_childLock_unset.png":"img/adv_childLock_set.png";break;case"adv_quiet":-1==a||1==a?$("#adv_quiet").css({"background-image":"url(img/adv_quiet_unset.png)"}):$("#adv_quiet").css({"background-image":"url(img/adv_quiet_set.png)"});break;case"adv_noDrain":-1==a||1==a?$("#adv_noDrain").css({"background-image":"url(img/adv_noDrain_unset.png)"}):$("#adv_noDrain").css({"background-image":"url(img/adv_noDrain_set.png)"});break;case"adv_nightWash":-1==a||1==a?$("#adv_nightWash").css({"background-image":"url(img/adv_nightWash_unset.png)"}):$("#adv_nightWash").css({"background-image":"url(img/adv_nightWash_set.png)"});break;case"adv_dry1":case"adv_dry2":-1==a?($("#adv_dry1").css({"background-image":"url(img/adv_dry1_unset.png)"}),$("#adv_dry2").css({"background-image":"url(img/adv_dry2_unset.png)"})):0==a?($("#adv_dry1").css({"background-image":"url(img/adv_dry1_unset.png)"}),$("#adv_dry2").css({"background-image":"url(img/adv_dry2_unset.png)"})):1==a?($("#adv_dry1").css({"background-image":"url(img/adv_dry1_set.png)"}),$("#adv_dry2").css({"background-image":"url(img/adv_dry2_unset.png)"})):2==a&&($("#adv_dry1").css({"background-image":"url(img/adv_dry1_unset.png)"}),$("#adv_dry2").css({"background-image":"url(img/adv_dry2_set.png)"}))}},this.modifyModeDry=function(e){13==e||14==e?($("#midStaHelp").css({visibility:"hidden"}),$("#midStaHelpDry").css({visibility:"visible"})):($("#midStaHelp").css({visibility:"visible"}),$("#midStaHelpDry").css({visibility:"hidden"}))},document.getElementById("fotVoice").addEventListener("touchend",function(e){g_functype==FuncType.Mode_Control&&"zh_CN"==g_CurrentLang?(IsDebug||navigator.PluginInterface.changeBarColor("#345A6D"),isVoiceing=!0,voiceManager.startVoice()):IsDebug?console.log("语音当前不可用"):(console.log("语音当前不可用"),navigator.PluginInterface.showToast(lang.no_voice,0))},!1),document.getElementById("powerVoice").addEventListener("touchend",function(e){g_functype==FuncType.Mode_Control&&"zh_CN"==g_CurrentLang?(IsDebug||navigator.PluginInterface.changeBarColor("#345A6D"),isVoiceing=!0,voiceManager.startVoice()):IsDebug?console.log("语音当前不可用"):(console.log("语音当前不可用"),navigator.PluginInterface.showToast(lang.no_voice,0))},!1)}