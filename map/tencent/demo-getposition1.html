<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>js腾讯地图api获取坐标位置 - 站长素材</title>
    <style>
        #btn {margin:10px 0;cursor:pointer;background: #0B7ECE;width: 80px; color: #CFDDF1;font-size: 12px; line-height: 25px; margin: 10px 0; text-align: center;}

    </style>
    <link type="text/css" rel="stylesheet" href="../../public/css/gree_pub.css"/>
    <script charset="utf-8" src="http://map.qq.com/api/js?v=2.exp"></script>
    <script type="text/javascript">
        var init = function() {
            //初始化地图
            var map = new qq.maps.Map(document.getElementById("mapcon"),{
                center: new qq.maps.LatLng(34.76037,113.66335),
                zoom: 12
            });
            //添加点击事件
            qq.maps.event.addListener(map,'click',function(event) {
                //获取点击坐标
                var latLng = event.latLng,
                    lat = latLng.getLat().toFixed(5),
                    lng = latLng.getLng().toFixed(5);
                $("#mapX").val(lat);
                $("#mapY").val(lng);
                //坐标点添加标记
                var marker = new qq.maps.Marker({
                    position: latLng,
                    map:map
                });
                //移除其他标记
                qq.maps.event.addListener(map,'click',function(event) {
                    marker.setMap(null);
                });
            });
        }
    </script>
</head>
<body>
<div style="position:absolute;left:0;width:100%;height:100%;" id="mapcon"></div>

</body>
</html>